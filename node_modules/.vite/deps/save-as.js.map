{
  "version": 3,
  "sources": ["../../save-as/lib/index.js"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* FileSaver.js\r\n * A saveAs() FileSaver implementation.\r\n *\r\n * By Eli Grey, http://eligrey.com\r\n * ES6ified by Cole Chamberlain, https://github.com/cchamberlain\r\n *\r\n * License: MIT\r\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\r\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = exports.saveAs = window.saveAs || function (view) {\n  // IE <10 is explicitly unsupported\n  if (typeof navigator !== 'undefined' && /MSIE [1-9]\\./.test(navigator.userAgent)) return;\n  var doc = view.document;\n  // only get URL when necessary in case Blob.js hasn't overridden it yet\n  var get_URL = function get_URL() {\n    return view.URL || view.webkitURL || view;\n  };\n  var save_link = doc.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n  var can_use_save_link = 'download' in save_link;\n  var click = function click(node) {\n    var event = new MouseEvent('click');\n    node.dispatchEvent(event);\n  };\n  var is_safari = /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent);\n  var webkit_req_fs = view.webkitRequestFileSystem;\n  var req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem;\n  var throw_outside = function throw_outside(ex) {\n    (view.setImmediate || view.setTimeout)(function () {\n      throw ex;\n    }, 0);\n  };\n  var force_saveable_type = 'application/octet-stream';\n  var fs_min_size = 0;\n  // the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n  var arbitrary_revoke_timeout = 1000 * 40; // in ms\n  var revoke = function revoke(file) {\n    var revoker = function revoker() {\n      if (typeof file === 'string') // file is an object URL\n        get_URL().revokeObjectURL(file);else // file is a File\n        file.remove();\n    };\n    /* // Take note W3C:\r\n    var\r\n      uri = typeof file === \"string\" ? file : file.toURL()\r\n    , revoker = function(evt) {\r\n      // idealy DownloadFinishedEvent.data would be the URL requested\r\n      if (evt.data === uri) {\r\n        if (typeof file === \"string\") { // file is an object URL\r\n          get_URL().revokeObjectURL(file);\r\n        } else { // file is a File\r\n          file.remove();\r\n        }\r\n      }\r\n    }\r\n    ;\r\n    view.addEventListener(\"downloadfinished\", revoker);\r\n    */\n    setTimeout(revoker, arbitrary_revoke_timeout);\n  };\n  var dispatch = function dispatch(filesaver, event_types, event) {\n    event_types = [].concat(event_types);\n    var i = event_types.length;\n    while (i--) {\n      var listener = filesaver['on' + event_types[i]];\n      if (typeof listener === 'function') {\n        try {\n          listener.call(filesaver, event || filesaver);\n        } catch (ex) {\n          throw_outside(ex);\n        }\n      }\n    }\n  };\n  var auto_bom = function auto_bom(blob) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    if (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) return new Blob(['\uFEFF', blob], { type: blob.type });\n    return blob;\n  };\n\n  var FileSaver = function FileSaver(blob, name, no_auto_bom) {\n    _classCallCheck(this, FileSaver);\n\n    if (!no_auto_bom) blob = auto_bom(blob);\n    // First try a.download, then web filesystem, then object URLs\n    var filesaver = this,\n        type = blob.type,\n        blob_changed = false,\n        object_url,\n        target_view,\n        dispatch_all = function dispatch_all() {\n      dispatch(filesaver, 'writestart progress write writeend'.split(' '));\n    }\n    // on any filesys errors revert to saving with object URLs\n    ,\n        fs_error = function fs_error() {\n      if (target_view && is_safari && typeof FileReader !== 'undefined') {\n        // Safari doesn't allow downloading of blob urls\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          var base64Data = reader.result;\n          target_view.location.href = 'data:attachment/file' + base64Data.slice(base64Data.search(/[,;]/));\n          filesaver.readyState = filesaver.DONE;\n          dispatch_all();\n        };\n        reader.readAsDataURL(blob);\n        filesaver.readyState = filesaver.INIT;\n        return;\n      }\n      // don't create more object URLs than needed\n      if (blob_changed || !object_url) {\n        object_url = get_URL().createObjectURL(blob);\n      }\n      if (target_view) {\n        target_view.location.href = object_url;\n      } else {\n        var new_tab = view.open(object_url, '_blank');\n        if (new_tab === undefined && is_safari) {\n          //Apple do not allow window.open, see http://bit.ly/1kZffRI\n          view.location.href = object_url;\n        }\n      }\n      filesaver.readyState = filesaver.DONE;\n      dispatch_all();\n      revoke(object_url);\n    },\n        abortable = function abortable(func) {\n      return function () {\n        if (filesaver.readyState !== filesaver.DONE) {\n          return func.apply(this, arguments);\n        }\n      };\n    },\n        create_if_not_found = { create: true, exclusive: false },\n        slice;\n\n    filesaver.readyState = filesaver.INIT;\n    if (!name) {\n      name = 'download';\n    }\n    if (can_use_save_link) {\n      object_url = get_URL().createObjectURL(blob);\n      setTimeout(function () {\n        save_link.href = object_url;\n        save_link.download = name;\n        click(save_link);\n        dispatch_all();\n        revoke(object_url);\n        filesaver.readyState = filesaver.DONE;\n      });\n      return;\n    }\n    // Object and web filesystem URLs have a problem saving in Google Chrome when\n    // viewed in a tab, so I force save with application/octet-stream\n    // http://code.google.com/p/chromium/issues/detail?id=91158\n    // Update: Google errantly closed 91158, I submitted it again:\n    // https://code.google.com/p/chromium/issues/detail?id=389642\n    if (view.chrome && type && type !== force_saveable_type) {\n      slice = blob.slice || blob.webkitSlice;\n      blob = slice.call(blob, 0, blob.size, force_saveable_type);\n      blob_changed = true;\n    }\n    // Since I can't be sure that the guessed media type will trigger a download\n    // in WebKit, I append .download to the filename.\n    // https://bugs.webkit.org/show_bug.cgi?id=65440\n    if (webkit_req_fs && name !== 'download') {\n      name += '.download';\n    }\n    if (type === force_saveable_type || webkit_req_fs) {\n      target_view = view;\n    }\n    if (!req_fs) {\n      fs_error();\n      return;\n    }\n    fs_min_size += blob.size;\n    req_fs(view.TEMPORARY, fs_min_size, abortable(function (fs) {\n      fs.root.getDirectory('saved', create_if_not_found, abortable(function (dir) {\n        var save = function save() {\n          dir.getFile(name, create_if_not_found, abortable(function (file) {\n            file.createWriter(abortable(function (writer) {\n              writer.onwriteend = function (event) {\n                target_view.location.href = file.toURL();\n                filesaver.readyState = filesaver.DONE;\n                dispatch(filesaver, 'writeend', event);\n                revoke(file);\n              };\n              writer.onerror = function () {\n                var error = writer.error;\n                if (error.code !== error.ABORT_ERR) {\n                  fs_error();\n                }\n              };\n              'writestart progress write abort'.split(' ').forEach(function (event) {\n                writer['on' + event] = filesaver['on' + event];\n              });\n              writer.write(blob);\n              filesaver.abort = function () {\n                writer.abort();\n                filesaver.readyState = filesaver.DONE;\n              };\n              filesaver.readyState = filesaver.WRITING;\n            }), fs_error);\n          }), fs_error);\n        };\n        dir.getFile(name, { create: false }, abortable(function (file) {\n          // delete file if it already exists\n          file.remove();\n          save();\n        }), abortable(function (ex) {\n          if (ex.code === ex.NOT_FOUND_ERR) {\n            save();\n          } else {\n            fs_error();\n          }\n        }));\n      }), fs_error);\n    }), fs_error);\n  };\n\n  var FS_proto = FileSaver.prototype;\n  var saveAs = function saveAs(blob, name, no_auto_bom) {\n    return new FileSaver(blob, name, no_auto_bom);\n  };\n\n  // IE 10+ (native saveAs)\n  if (typeof navigator !== 'undefined' && navigator.msSaveOrOpenBlob) {\n    return function (blob, name, no_auto_bom) {\n      if (!no_auto_bom) blob = auto_bom(blob);\n      return navigator.msSaveOrOpenBlob(blob, name || 'download');\n    };\n  }\n\n  FS_proto.abort = function () {\n    var filesaver = this;\n    filesaver.readyState = filesaver.DONE;\n    dispatch(filesaver, 'abort');\n  };\n  FS_proto.readyState = FS_proto.INIT = 0;\n  FS_proto.WRITING = 1;\n  FS_proto.DONE = 2;\n\n  FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;\n\n  return saveAs;\n}(typeof self !== 'undefined' && self || typeof window !== 'undefined' && window || undefined.content);\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nexports.default = saveAs;"],
  "mappings": "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",
  "names": ["get_URL", "click", "throw_outside", "revoke", "revoker", "dispatch", "auto_bom", "FileSaver", "dispatch_all", "fs_error", "abortable", "save", "saveAs"]
}
